# ===============================================
# BN88 Backend Configuration (.env.example)
# ===============================================
# Copy this file to .env before running the application
# cp .env.example .env
#
# IMPORTANT: Never commit .env with real credentials!
# ===============================================

# -----------------------------------------------
# Basic Execution Environment
# -----------------------------------------------
NODE_ENV=development
PORT=3000

# Database (SQLite for development)
# For production, use PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/bn88?schema=public
DATABASE_URL=file:./prisma/dev.db

# Application URLs
APP_BASE_URL=http://localhost:3000
PUBLIC_BASE_URL=http://localhost:3000
WEBHOOK_BASE_URL=http://localhost:3000
API_BASE_URL=http://localhost:3000

# -----------------------------------------------
# Security Configuration
# -----------------------------------------------
# JWT Secret - CHANGE THIS IN PRODUCTION!
JWT_SECRET=bn9_dev_secret_change_in_production

# JWT Token Expiration
JWT_EXPIRE=7d

# Encryption Key (MUST be exactly 32 characters)
# Generate a secure key: openssl rand -hex 16
SECRET_ENC_KEY_BN9=0123456789abcdef0123456789abcdef

# -----------------------------------------------
# API Configuration
# -----------------------------------------------
# Enable Admin API (1 = enabled, 0 = disabled)
ENABLE_ADMIN_API=1

# Enable Development Routes (1 = enabled, 0 = disabled)
ENABLE_DEV_ROUTES=1

# CORS: Allowed Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:5555,http://localhost:5173,http://localhost:3000

# -----------------------------------------------
# Multi-Tenant Configuration
# -----------------------------------------------
# Default tenant code
TENANT_DEFAULT=bn9

# -----------------------------------------------
# Admin User (Auto-seeded on first run)
# -----------------------------------------------
ADMIN_EMAIL=root@bn9.local
ADMIN_PASSWORD=bn9@12345

# -----------------------------------------------
# Redis Configuration
# -----------------------------------------------
# Redis Connection (default port 6379, or 6380 for docker-compose)
REDIS_URL=redis://127.0.0.1:6380
REDIS_HOST=127.0.0.1
REDIS_PORT=6380

# Redis Feature Flags
ENABLE_REDIS=1
DISABLE_REDIS=0

# Redis Rate Limiting
REDIS_RATE_LIMIT=60
MESSAGE_RATE_LIMIT_PER_MIN=60
MESSAGE_RATE_LIMIT_WINDOW_SECONDS=90

# -----------------------------------------------
# LINE Messaging API (Optional)
# -----------------------------------------------
# Get credentials from LINE Developers Console
# https://developers.line.biz/console/
LINE_CHANNEL_SECRET=
LINE_CHANNEL_ACCESS_TOKEN=

# Skip LINE signature verification in development
LINE_DEV_SKIP_VERIFY=1

# -----------------------------------------------
# External Platform Integration (Optional)
# -----------------------------------------------
# Facebook Messenger
FACEBOOK_VERIFY_TOKEN=

# Telegram Bot
TELEGRAM_BOT_TOKEN=

# -----------------------------------------------
# LINE Engagement Platform
# -----------------------------------------------
LEP_BASE_URL=http://localhost:8080

# -----------------------------------------------
# OpenAI Configuration (Optional)
# -----------------------------------------------
# Get API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_KEY=
OPENAI_SECRET_KEY=

# OpenAI Models
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBED_MODEL=text-embedding-ada-002
OPENAI_VISION_MODEL=gpt-4o-mini

# -----------------------------------------------
# Other Configuration
# -----------------------------------------------
# Timezone
TZ=Asia/Bangkok

# Debug Mode (uncomment to enable)
# DEBUG_AUTH=1
# DEBUG=1
