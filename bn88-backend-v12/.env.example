# ========================================
# BN88 Backend Environment Configuration
# ========================================
# Copy this file to .env before running the backend
# Never commit the .env file to version control

# ========================================
# Basic Execution
# ========================================
NODE_ENV=development
PORT=3000
DATABASE_URL=file:./prisma/dev.db
APP_BASE_URL=http://localhost:3000
PUBLIC_BASE_URL=http://localhost:3000
WEBHOOK_BASE_URL=http://localhost:3000

# ========================================
# Security (CHANGE IN PRODUCTION!)
# ========================================
# JWT token secret - use a strong random string in production
JWT_SECRET=bn9_dev_secret
JWT_EXPIRE=7d
# Encryption key - must be exactly 32 characters (hex)
SECRET_ENC_KEY_BN9=0123456789abcdef0123456789abcdef

# ========================================
# API Configuration
# ========================================
ENABLE_ADMIN_API=1
# CORS allowed origins (frontend URLs)
ALLOWED_ORIGINS=http://localhost:5555,http://localhost:5173
# Default tenant code
TENANT_DEFAULT=bn9

# ========================================
# LINE Integration (Optional)
# ========================================
# Get these from LINE Developers Console: https://developers.line.biz/
LINE_CHANNEL_SECRET=
LINE_CHANNEL_ACCESS_TOKEN=
# Skip signature verification in development (set to 0 in production)
LINE_DEV_SKIP_VERIFY=1

# ========================================
# External Platform Integration (Optional)
# ========================================
FACEBOOK_VERIFY_TOKEN=
TELEGRAM_BOT_TOKEN=

# ========================================
# Redis & Queue Configuration
# ========================================
# Redis URL - port 6380 to avoid conflicts with default Redis (6379)
REDIS_URL=redis://127.0.0.1:6380
REDIS_PORT=6380
# Enable/disable Redis (set DISABLE_REDIS=1 if Redis is not available)
ENABLE_REDIS=1
DISABLE_REDIS=0
# Rate limiting
REDIS_RATE_LIMIT=60
MESSAGE_RATE_LIMIT_PER_MIN=60
MESSAGE_RATE_LIMIT_WINDOW_SECONDS=90

# ========================================
# OpenAI Integration (Optional)
# ========================================
# Get API key from https://platform.openai.com/
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBED_MODEL=text-embedding-ada-002
OPENAI_VISION_MODEL=gpt-4o-mini-vision-preview
OPENAI_KEY=
OPENAI_SECRET_KEY=

# ========================================
# LINE Engagement Platform Integration
# ========================================
LEP_BASE_URL=http://localhost:8080

# ========================================
# Admin Seeding (Development Only)
# ========================================
# Default admin credentials - CHANGE IN PRODUCTION!
ADMIN_EMAIL=root@bn9.local
ADMIN_PASSWORD=bn9@12345
# Enable development routes (set to 0 in production)
ENABLE_DEV_ROUTES=1

# ========================================
# Other Settings
# ========================================
API_BASE_URL=http://localhost:3000
TZ=Asia/Bangkok
